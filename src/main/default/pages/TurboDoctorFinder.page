<apex:page lightningStylesheets="true" docType="html-5.0" id="TurboDoctorFinder" controller="TurboDoctorFinderController">
    <apex:slds />
    <style>
/*  .msgIcon {*/
/*    display: none!important*/
/*  }*/
/*  .customMessage * {*/
/*    color: #fff!important*/
/*  }*/
/*  .customMessage {*/
/*    margin: 5px 0!important;*/
/*    max-width: 1280px;*/
/*    opacity: 1!important;*/
/*    width: 100%;*/
/*    font-size: 12px;*/
/*    border: 0px;*/
/*    padding-left: 10px;*/
/*  }*/
/*  .message {*/

/*  }*/
/*.slds-brand-band:before {*/
/*                top: 0 !important;*/
/*}*/




    </style>
    <script>
//  $(document).ready(function(){
//    overridePageMessages();
//  });
//  function overridePageMessages(){
//    var textureEffect = 'slds-theme--alert-texture';
//    //Uncomment below line for texture effect on page messages
//    //textureEffect = 'slds-theme--alert-texture';
//    $('.warningM3').addClass('slds-notify slds-notify--toast slds-theme--warning customMessage '+textureEffect);
//    $('.confirmM3').addClass('slds-notify slds-notify--alert slds-theme--success customMessage '+textureEffect);
//    $('.errorM3').addClass('slds-notify slds-notify--alert slds-theme--error customMessage '+textureEffect);
//    $('.infoM3').addClass('slds-notify slds-notify--toast customMessage '+textureEffect);
//    $('.errorM3').removeClass('errorM3');
//    $('.confirmM3').removeClass('confirmM3');
//    $('.infoM3').removeClass('infoM3');
//    $('.warningM3').removeClass('warningM3');
//  }






    </script>
    <style>
    .hidden{display:none}
    div.datePicker{z-index:9999}
    div#datePicker{z-index:9999}
    #modalNewDoctor{z-index:9999}
#bgtheme{
    z-index:2;
    height:100%;
   background: rgb(176, 196, 223) no-repeat;
}



    </style>
    <script src="/support/api/54.0/interaction.js" type="text/javascript">
//setTimeout(function() { $('#pgmessagesid').fadeOut('fast'); }, 2000);
//
//function showSuccesssss(){
//    sforce.one.showToast({
//        "title":"elo",
//        "message":"mordo",
//        "type":"success"
//    })
//}
//
//function test123456(){
//event.listner
//
//var div2 = document.getElementById("testfunc");
//    div2.classList.remove("slds-hide");
//    setTimeout(function() {
//      div2.classList.add("slds-hide");
//    }, 5000); //Set 10000 to however many milliseconds you want the toast displayed
//}
//
//  let messageCloseButton = document.getElementById('tosterShow');
//        addEventListener("change", function(event) {
//           let messageCloseButton = document.getElementById('testfunc');
//            messageCloseButton.classList.add('slds-hide');
//            event.preventDefault();
//            });





    </script>

    <div class="slds-scope" style="position:relative">
        <div class="slds cv" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <div class="slds-lookup" data-select="single" data-scope="single" data-typeahead="true">
                <div class="slds-form-element">
                    <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">


                        <!--                        <div class="slds-notify_container slds-is-relative slds-hide" id="testfunc">-->
                        <!--                            <div class="slds-notify slds-notify_toast {!toastThem}" role="status">-->
                        <!--                                <span class="slds-assistive-text">success</span>-->
                        <!--                                <span class="slds-icon_container slds-icon-utility-success slds-m-right_small slds-no-flex slds-align-top"-->
                        <!--                                      title="Description of icon when needed">-->
                        <!--                                  <svg class="slds-icon slds-icon_small" aria-hidden="true">-->
                        <!--                                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#success"></use>-->
                        <!--                                  </svg>-->
                        <!--                                </span>-->

                        <!--                                <div class="slds-notify__content">-->
                        <!--                                    <h2 class="slds-text-heading_small ">Account-->
                        <!--                                        <a href="#">ACME - 100</a> widgets was created.</h2>-->
                        <!--                                </div>-->
                        <!--                                <div class="slds-notify__close">-->
                        <!--                                    <button class="slds-button slds-button_icon slds-button_icon-inverse" title="Close">-->
                        <!--                                        <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">-->
                        <!--                                            <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>-->
                        <!--                                        </svg>-->
                        <!--                                        <span class="slds-assistive-text">Close</span>-->
                        <!--                                    </button>-->
                        <!--                                </div>-->
                        <!--                            </div>-->
                        <!--                        </div>-->
                        <!--                        <apex:pageMessages/>-->

                        <!--                        <apex:pageBlock id="wholePage">-->
                        <script>
                                    function toastLaunch(){
                                        let element = document.getElementById("ToastMessage");
                                        element.classList.toggle("slds-hide");
                                        setTimeout(function() {
                                          element.classList.toggle("slds-hide");
                                        }, 5000);

                                    }
                                    function closeToast(){
                                        let element = document.getElementById("ToastMessage");
                                        element.classList.toggle("slds-hide");
                                    }
                                </script>

                        <div class="slds-brand-band slds-brand-band_medium" id="bgtheme">

                            <apex:outputPanel id="rerenderdata">

                                <!--                                <div class="slds-box slds-theme_default slds-brand-band">-->


                                <div class="demo-only  slds-hide" style="height: 4rem;position:fixed; z-index:10000;left:40vw"
                                     id='ToastMessage'>
                                    <div class="slds-notify_container slds-is-relative">
                                        <div class="slds-notify slds-notify_toast {!toastThem}" role="alert">
                                            <span class="slds-assistive-text">success</span>
                                            <span class="slds-icon_container slds-icon-utility-success slds-m-right_small slds-no-flex slds-align-top"
                                                  title="Description of icon when needed">
                                        <svg class="slds-icon slds-icon_small" aria-hidden="true">
                                            <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                 xlink:href="{!URLFOR($Asset.SLDS, 'assets/icons/utility-sprite/svg/symbols.svg#success')}"/>
                                        </svg>
                                    </span>
                                            <div class="slds-notify__content">
                                                <h2 class="slds-text-heading_small ">{!messageFunction}</h2>
                                            </div>
                                            <button class="slds-button slds-button_icon slds-notify__close slds-button_icon-inverse"
                                                    title="Close" onclick='closeToast()'>
                                                <svg class="slds-button__icon slds-button__icon_large"
                                                     aria-hidden="true">
                                                    <use xmlns:xlink="http://www.w3.org/1999/xlink"
                                                         xlink:href="{!URLFOR($Asset.SLDS, 'assets/icons/utility-sprite/svg/symbols.svg#close')}"/>
                                                </svg>
                                                <span class="slds-assistive-text">Close</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <apex:form id="form">

                                    <div class="slds-nav-vertical__section">
                                        <div class="slds-form" role="list">
                                            <div class="slds-form__row slds-m-top_medium" >
                                                <div class="slds-form__item" role="listitem">
                                                    <div class="slds-form-element slds-form-element_horizontal slds-is-editing ">
                                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                            <label class="slds-form-element__label "
                                                                   for="single-form-element-id-02" style="font-weight:bold;color:white;left:10%;">{!$Label.First_name}</label>
                                                        </div>

                                                        <div class="slds-form-element__control">
                                                            <!--                                                        <apex:inputText value="{!doc.First_Name__c}"/>-->
                                                            <apex:inputField value="{!doc.First_Name__c}"
                                                                             required="false"
                                                                             styleClass="slds-input slds-input"
                                                                             style="width:12rem"/>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="slds-form__item" role="listitem">
                                                    <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                            <label class="slds-form-element__label "
                                                                   for="single-form-element-id-02" style="font-weight:bold;color:white;left:10%;">{!$Label.Last_name}</label>
                                                        </div>
                                                        <div class="slds-form-element__control">
                                                            <apex:inputField value="{!doc.Name}" style="width:12rem"
                                                                             styleClass="slds-input"
                                                            />
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="slds-form__row">
                                                <div class="slds-form__item" role="listitem">
                                                    <div class="slds-form-element slds-form-element_horizontal slds-is-editing slds-form-element_1-col">
                                                        <div class="slds-form-element slds-form-element_horizontal slds-is-editing">
                                                            <label class="slds-form-element__label "
                                                                   for="single-form-element-id-02" style="font-weight:bold;color:white;left:5%;">{!$Label.Country}</label>
                                                        </div>
                                                        <div class="slds-form-element__control">
                                                            <apex:inputField value="{!doc.Country__c}"
                                                                             required="false"
                                                                             styleClass="slds-input"
                                                                             style="width:12rem;height:2em"/>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>

                                    <div class="slds-align_absolute-center slds-m-bottom_large">
                                        <apex:commandButton value="{!$Label.Search}" action="{!search}"
                                                            reRender="form"
                                                            styleClass="slds-button slds-button_brand"/>
                                        <apex:actionRegion >
                                            <apex:commandButton value="{!$Label.New}"
                                                                action="{!showModalNew}"

                                                                styleClass="slds-button slds-button_brand"/>
                                        </apex:actionRegion>
                                    </div>
                                    <p class="slds-align_absolute-center">{!searchResultInfo}</p>
                                    <apex:outputPanel rendered="{!renderRespondTable}">
                                        <table class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_col-bordered"
                                               aria-label="Example table of Opportunities with vertical borders">
                                            <thead>
                                            <tr class="slds-line-height_reset">
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Action">Action</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="First Name">First Name</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Last Name">Last Name</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Email">Email</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Phone">Phone</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Country">Country</div>
                                                </th>
                                                <th class="" scope="col">
                                                    <div class="slds-truncate" title="Specialization">Specialization
                                                    </div>
                                                </th>

                                            </tr>
                                            </thead>
                                            <tbody>
                                            <apex:repeat value="{!listOfDTO}" var="d">

                                                <tr class="slds-hint-parent">
                                                    <th data-label="Opportunity Name" scope="row">
                                                        <div class="slds-truncate" title="">
                                                            <apex:commandLink id="editLink"
                                                                              value="Edit"
                                                                              style="font-weight:bold"
                                                                              action="{!editDoctorToDB}"
                                                            >
                                                                <apex:param name="editParamId"
                                                                            value="{!listOfDTO[d].doctorId}"
                                                                            assignTo="{!DoctorToEdit}"/>

                                                            </apex:commandLink>
                                                            |&nbsp;
                                                            <apex:commandLink value="Delete"
                                                                              action="{!deleteDoctor}"
                                                                              onClick="if(!confirm('Are you Sure')) return false;"
                                                                              reRender="rerenderdata"
                                                                              onComplete="toastLaunch();return false">
                                                                <apex:param name="deleteParam"
                                                                            value="{!listOfDTO[d].doctorId}"
                                                                            assignTo="{!DoctorToDelete}"/>
                                                            </apex:commandLink>
                                                        </div>
                                                    </th>
                                                    <td data-label="Account Name">
                                                        <div class="slds-truncate" title="">
                                                            <apex:outputText value="{!listOfDTO[d].doc.First_Name__c}"/>
                                                        </div>
                                                    </td>
                                                    <td data-label="Close Date">
                                                        <div class="slds-truncate" title="">
                                                            <apex:outputText value="{!listOfDTO[d].doc.Name}"/>
                                                        </div>
                                                    </td>
                                                    <td data-label="Prospecting">
                                                        <div class="slds-truncate" title="">
                                                            <apex:outputText value="{!listOfDTO[d].doc.Email__c}"/>
                                                        </div>
                                                    </td>
                                                    <td data-label="Confidence">
                                                        <div class="slds-truncate" title="">
                                                            <apex:outputText value="{!listOfDTO[d].doc.Phone__c}"/>
                                                        </div>
                                                    </td>
                                                    <td data-label="Amount">
                                                        <div class="slds-truncate" title="">
                                                            <apex:outputText value="{!listOfDTO[d].doc.Country__c}"/>
                                                        </div>
                                                    </td>
                                                    <td data-label="Contact">
                                                        <div class="slds-truncate" title="">
                                                            <apex:outputText value="{!listOfDTO[d].doc.Specialization__c}"/>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </apex:repeat>
                                            </tbody>
                                        </table>
                                    </apex:outputPanel>

                                    <div class="{!displayClass}" id="modalNewDoctor">
                                        <section role="dialog" tabindex="-1" aria-modal="true"
                                                 class="slds-modal slds-fade-in-open slds-modal_medium">
                                            <div class="slds-modal__container ">
                                                <div class="slds-modal__header">
                                                    <h1 id="modal-heading-01"
                                                        class="slds-modal__title slds-hyphenate">
                                                        Edit/New Doctor</h1>
                                                </div>
                                                <div class="slds-modal__content  slds-modal__content_headless "
                                                     id="modal-content-id-1">
                                                    <div class="slds-form slds-m-around_xx-large" role="list">
                                                        <div class="slds-form__row">
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">First Name</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.First_Name__c}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">Last Name</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.Name}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="slds-form__row">
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">Email</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.Email__c}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">Phone</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.Phone__c}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="slds-form__row">
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">Specialization</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.Specialization__c}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">Date of birth</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <div class="slds-form-element__control slds-input-has-fixed-addon">
                                                                                <apex:inputField value="{!doctorToEditInDb.Date_of_birth__c}"
                                                                                        styleClass="slds-input"/>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="slds-form__row">
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">Country</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.Country__c}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">City</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.City__c}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="slds-form__row">
                                                            <div class="slds-form__item" role="listitem">
                                                                <div class="slds-form-element slds-form-element_edit slds-form-element_readonly slds-form-element_stacked slds-hint-parent">
                                                                    <span class="slds-form-element__label">Street</span>
                                                                    <div class="slds-form-element__control">
                                                                        <div class="slds-form-element__static">
                                                                            <apex:inputField value="{!doctorToEditInDb.Street__c}"
                                                                                    styleClass="slds-input"/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="slds-modal__footer">
                                                    <!--                                <apex:commandButton reRender="editNewField" action="{!valueoffield}"></apex:commandButton>-->

                                                    <apex:commandButton styleClass="slds-button slds-button_neutral"
                                                                        value="{!$Label.site.cancel}"
                                                                        action="{!cancelAction}"
                                                    />
                                                    <apex:commandButton styleClass="slds-button slds-button_brand"
                                                                        action="{!addDoctorToDB}"
                                                                        disabled="{!isClicked}"
                                                                        onComplete="toastLaunch();return false"
                                                                        reRender="rerenderdata"
                                                                        value="{!$Label.Save}">
                                                        <!--                                                        reRender="rerenderdata"-->
                                                        <!--                                                        <apex:actionSupport onComplete="toastLaunch()"/>-->
                                                    </apex:commandButton>

                                                </div>
                                            </div>
                                        </section>
                                        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
                                    </div>

                                </apex:form>
<!--                        </div>-->
                        </apex:outputPanel>
                        </div>
<!--                    </div>-->
                    <!--                        </apex:pageBlock>-->
                </div>
            </div>
        </div>
    </div>

    </div>

</apex:page>