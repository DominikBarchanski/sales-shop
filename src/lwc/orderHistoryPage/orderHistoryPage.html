<!--
 - Created by dominikbarchanski on 28/07/2022.
 -->

<!-- Order History Page -->
<template>

    <lightning-card>
        <div style="width:100% ;text-align: center;">
            <p style="font-size: x-large"><b>Your Order History</b></p>
            <p style="font-size: large"><b>Currently Spend on All Order:</b> {priceForAllProduct}€</p>
        </div>
        <template for:each={orderHistory} for:index='i' for:item="item">
            <div class="itemInOrder" key={item} style="display: flex; flex-wrap: wrap">
                <div style="width: 25%"><b>Order Number:</b> {item.orderNumber}</div>
                <div style="width: 25%"><b>Price:</b> {item.price}€</div>
                <div style="width: 25%"><b>Order Date:</b> {item.createDate}</div>
                <div style="width: 25%;text-align: center;">
                    <lightning-button data-index={i} label="Show Details" onclick={handleClick}
                                      variant="brand"></lightning-button>
                    <c-complain-modal make-complain={item}></c-complain-modal>
<!--                    <lightning-button style="margin-left: 0.4em" data-index={i} data-value={item} label="Complain" onclick={handleComplain}-->
<!--                                      variant="destructive-text"></lightning-button>-->
                </div>
                <template if:true={item._isOpen}>

                    <div style="display: flex;flex-wrap: wrap;width: 100%;border: 1px gray solid;border-radius: 4px;padding: 0.5em;margin-top:0.5em ">
                        <div style="width:20%">
                            <img src={item.photos}>
                        </div>
                        <div style="display: flex;flex-direction: column;flex-wrap: nowrap;justify-content: center;margin-left: 1em;">
                            <p key={item.id}><b>Product Name:</b> {item.productName}</p>
                            <p key={item.id}><b>Delivery/Collect Address:</b> {item.shipping}</p>
                            <p key={item.id}><b>Payment Method:</b> {item.payment}</p>
                        </div>
                    </div>
                </template>
            </div>

        </template>

    </lightning-card>
</template>